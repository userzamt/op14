<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>lesson07</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css">

    <link rel="stylesheet" href="lesson07.css">   
</head>
<body>
<main class="container-lg">
    <header>
        <h1>CSS анимация</h1>
    </header>

    <a class="fs-3" href="../PR/PR02/pr02.html">ПР02 Анимация объекта с использованием CSS3</a>

    <section>
        <h2>CSS3 анимация</h2>
        <p>Переходы выполняют большую работу по созданию визуальных взаимодействий из одного состояния в другое и идеально подходят для этих видов одиночных изменений состояния. Тем не менее, когда требуется больший контроль, для переходов необходимо несколько состояний.</p>
        <p>В CSS3 предоставляется еще один, более богатый свойствами механизм создания анимации.</p>
        <blockquote class="info">В отличие от CSS3 переходов, создание анимации базируется на ключевых кадрах, которые позволяют автоматически воспроизводить и повторять эффекты на протяжении заданного времени, а также останавливать анимацию внутри цикла.</blockquote>
        <p>Итак, переходы в CSS являются специфическим видом анимации, где:</p>
            <ul>
                <li>есть только два состояния: начало и конец;</li>
                <li>анимация не зациклена;</li>
                <li>промежуточные состояния управляются только функцией времени.</li>
            </ul>
        <p>Но что если вы хотите:</p>
            <ul>
                <li>иметь контроль над промежуточными состояниями?</li>
                <li>зациклить анимацию?</li>
                <li>сделать разные виды анимаций для одного элемента?</li>
                <li>анимировать определённое свойство только на половину пути?</li>
                <li>имитировать различные функции времени для разных свойств?</li>
            </ul>
        <p>Анимация в CSS позволяет всё это, и не только.</p>
        <p>CSS3 анимация может применяться практически для всех html-элементов, а также для псевдоэлементов <code>:before</code> и <code>:after</code>. При создании анимации не стоит забывать о возможных проблемах с производительностью, так как на изменение некоторых свойств требуется много ресурсов.</p>
        <p>Анимация в CSS3 сложнее перехода, но у нее есть дополнительное преимущество в том, что ей не нужен обязательный инициатор. Наряду с тем, что анимацию можно добавить к состоянию <code>:hover</code> для ее проигрывания при прохождении указателя мыши над элементом, запустить анимацию можно также при загрузке страницы.</p>
        <p><mark>При создании анимации первым делом создаются ключевые кадры (keyframes).</mark></p>
        <p>Ключевой кадр в анимации - это отдельный кадр анимации, определяющий внешний вид сцены. Предположим, первый ключевой кадр имеет изображение мяча на одной половине футбольного поля. Добавив второй ключевой кадр, можно задать конечную точку анимации, например мяч в воротах на другой половине поля. После этого веб-браузер предоставит анимацию между данными двумя ключевыми кадрами, прорисовывая все промежуточные фазы, отображающие перемещение мяча по полю на его пути к голу в воротах.</p>
        <p>Ели вы подумали, что в переходы заложена такая же идея, то так оно и есть. В переходе определяются два стиля, а на браузер возлагается задача анимировать изменения от одного стиля к другому. В этом смысле каждый из этих стилей можно представить в качестве ключевых кадров. Но анимации в CSS3 позволяют определять множество ключевых кадров и создавать более сложные эффекты анимации: например, футбольный мяч, перемещающийся с одной стороны поля к игроку, к другому игроку, а затем в ворота.</p>
        <p>Создание анимации проходит в два приема.</p>
            <ol>
                <li><b>Определение анимации</b>. Включает определение ключевых кадров со списком
                анимируемых CSS-свойств.</li>
                <li><b>Применение анимации к элементу</b>. После определения анимации ее можно
                назначить любому количеству элементов страницы. Можно даже задать для
                каждого элемента разные распределения скорости выполнения, задержки и
                другие свойства анимации. То есть одну и ту же анимацию на странице можно
                использовать с немного разными настройками несколько раз.</li>
            </ol>
        
        <article>
            <h3>Правило <code>@keyframes</code>. Определение ключевых кадров</h3>
            <p>Перед применением анимации к элементам HTML, вам требуется написать анимацию с помощью ключевых кадров.</p>
            <p>Создание анимации начинается с установки ключевых кадров правила <code>@keyframes</code>. Кадры определяют, какие свойства на каком шаге будут анимированы. Каждый кадр может включать один или более блоков объявления из одного или более пар свойств и значений. Правило <code>@keyframes</code> содержит имя анимации элемента, которое связывает правило и блок объявления элемента.</p>
            <pre>
<span class="tag">@keyframes myAnimation</span> {
    <span class="tag">from</span> {
        <span class="property">box-shadow</span>: <span class="unit">2px 2px 10px rgba(0,0,0, 0.5)</span>;
    }

    <span class="tag">to</span> {
        <span class="property">box-shadow</span>: <span class="unit">0px 0px 0px rgba(0,0,0, 1)</span>;
    }
}
            </pre>
            
            <p>Ключевые кадры создаются с помощью ключевых слов <code>from</code> и <code>to</code> (эквивалентны значениям 0% и 100%) или с помощью процентных пунктов, которых можно задавать сколько угодно. Также можно комбинировать ключевые слова и процентные пункты.<p>
            <blockquote class="warn">Вы можете определить столько ключевых кадров, сколько хотите, вроде 33%, 4% или даже 29.86%. На практике вы будете писать только некоторые из них.</blockquote>
            <p>Если кадры имеют одинаковые свойства и значения, их можно объединить в одно объявление:</p>
            <pre>
<span class="tag">@keyframes move</span> {
    <span class="tag">from, to</span> {
        <span class="property">top</span>: <span class="unit">0</span>;
        <span class="property">left</span>: <span class="unit">0</span>;
    }

    <span class="tag">25%</span>, <span class="tag">75%</span> {
        <span class="property">top</span>: <span class="unit">100%</span>;
    }

    <span class="tag">50%</span> {
        <span class="property">top</span>: <span class="unit">50%</span>;
    }
}
            </pre>
        </article>
        
        <article>
            <h3><code>animation-name</code></h3>
            <p>Когда определение набора ключевых кадров будет завершено, анимация будет готова к применению, и, чтобы заставить ее работать, ее нужно применить к какому-нибудь элементу страницы. Анимацию можно добавить к любому стилю любого элемента страницы.Если просто добавить анимацию к стилю,который тут же применяется к элементу, например к стилю тега <code>h1</code>, анимация будет применена при загрузке страницы.</p>
            <p>Анимацию можно применить к одному из псевдоклассов, включая <code>:hover</code>, <code>:active</code>, <code>:target</code> или <code>:focus</code>, чтобы, например, запустить анимацию при проходе указателя мыши посетителя над ссылкой или при щелчке на поле формы.</p>
            <p>И наконец, анимацию можно применить к стилю класса, и воспользоваться кодом JavaScript для динамического применения этого класса в ответ на щелчок посетителя на кнопке или на каком-нибудь другом элементе страницы.</p>
            <p>В CSS3 предоставляется несколько свойств, связанных с анимацией и позволяющих управлять способом и временем проигрывания анимации (а также сокращенная версия, охватывающая все отдельные свойства). Как минимум, чтобы заставить анимацию выполняться, нужно указать имя, которое было дано исходной анимации (в правиле <code>@keyframes</code>), и продолжительность анимации.</p>
            <pre>
<span class="tag">@keyframes myFrame</span> {
    <span class="tag">from</span> { <span class="comment">/* ... */</span> }

    <span class="tag">to</span> { <span class="comment">/* ... */</span> }
}

<span class="tag">.selector</span> {
    <span class="property">animation-name</span>: <span class="unit">myFrame</span>;
}
            </pre>
            <p>Подобно именам классов CSS, название анимации может включать в себя только: буквы (a-z), цифры (0-9), подчёркивание (_), дефис (-). Название не может начинаться с цифры или с дефисов.</p>
        </article>
        
        <article>
            <h3><code>animation-duration</code></h3>
            <p>Свойство <code>animation-name</code> просто сообщает браузеру, какую анимацию нужно применить, а свойство <code>animation-duration</code> устанавливает продолжительность анимации, задаётся в секундах или миллисекундах, отрицательные значения не допустимы. Не наследуется. Если для элемента задано более одной анимации, то можно установить разное время для каждой, перечислив значения через запятую.</p>
            <pre>
<span class="tag">.selector</span> {
    <span class="property">animation-duration</span>: <span class="unit">10s</span>;
}
            </pre>
            <p><a href="exmple/exmple4.html">Простой пример анимации &rarr;</a></p>
            <blockquote class="warn">Длительность анимации задается в секундах <code>s</code> или миллисекундах <code>ms</code></blockquote>
        </article>
        
        <article>
            <h3><code>animation-timing-function</code></h3>
            <p>Как и в случае с переходами, можно указывать функцию распределения скорости анимации по времени <code>animation-timing-function</code>, которая управляет этой скоростью на заданном времени продолжительности анимации.</p>
            <p>Свойство определяет изменение скорости от начала до конца анимации с помощью временных функций. Задаётся при помощи ключевых слов или кривой Безье cubic-bezier(x1, y1, x2, y2). Не наследуется.</p>
            <p>Например, анимацию можно начинать медленно и завершать быстро, используя для этого кубическую кривую Безье или одно из встроенных ключевых слов, определяющих метод: linear, ease, ease-in, ease-out, ease-in-out. Все это работает точно так же, как и в ранее рассмотренном случае с переходами.</p>
            <p>Но так же доступны и следующие временые функции:</p>
            <ul>
                <li><b><code>step-start</code></b> - задаёт пошаговую анимацию, разбивая анимацию на отрезки, изменения происходят в начале каждого шага. Эквивалентно <code>steps(1, start)</code>.</li>
                <li><b><code>step-end</code></b> - пошаговая анимация, изменения происходят в конце каждого шага. Эквивалентно steps(1, end).</li>
                <li><b><code>steps(количество шагов,start|end)</code></b>	Ступенчатая временная функция, которая принимает два параметра. Количество шагов задается целым положительным числом. Второй параметр необязательный, указывает момент, в котором начинается анимация. Со значением <code>start</code> анимация начинается в начале каждого шага, со значением <code>end</code> — в конце каждого шага с задержкой. Задержка вычисляется как результат деления времени анимации на количество шагов. Если второй параметр не указан, используется значение по умолчанию end.</li>
            </ul>
            <p><a href="exmple/exmple5.html">Пример анимации с использованием функции <code>steps</code> &rarr;</a></p>
        </article>
        
        <article>
            <h3><code>animation-iteration-count</code></h3>
            <p>С помощью CSSможно контролировать еще несколько аспектов анимации, включая ее повторение, направление ее выполнения, если она выполняется более одного раза, а также порядка форматирования браузером элемента по завершении анимации.</p>
            <p>Переходы являются анимациями, выполняемыми однократно, например указатель мыши проходит над кнопкой и она увеличивается в размерах. А вот анимации благодаря свойству <code>animation-iteration-count</code> могут запускаться один, два и более раза или непрерывно.</p>
            <pre>
<span class="tag">.selector</span> {
    <span class="property">animation-iteration-count</span>: <span class="unit">3</span>;
}
            </pre>
            <div style="height: 300px; position: relative;">
                <div id="aniCount"></div>
            </div>
            <p>Свойство <code>animation-iteration-count</code> позволяет запустить анимацию несколько раз. Значение 0 или любое отрицательное число удаляют анимацию из проигрывания. Не наследуется.</p>
            <p>С помощью целого числа задается количество повторов анимации. Значение по умолчанию 1. Дробные значения больше 1 будут воспроизводить анимацию, обрезая её на части следующей итерации.</p>
            <div id="logoMeteor"></div>
            <p>Если указать в качестве заначение  ключевое слово <code>infinite</code>, то анимация будет проигрывается бесконечно.</p>
        </article>
        
        <article>
            <h3><code>animation-direction</code></h3>
            <p>Свойство задает направление повтора анимации. Если анимация повторяется только один раз, то это свойство не имеет смысла. Не наследуется.</p>
            <p>Свойство <code>animation-direction</code> определяет, в каком порядке читаются ключевые кадры.</p>
            <p><code><b>normal</b></code> - Значение по умолчанию, анимация проигрывается в обычном направлении, с начала и до конца.</p>
            <ul class="normal aniDirec">
                <li></li><li></li><li></li>
            </ul>
            <p><code><b>reverse</b></code> - Анимация проигрывается с конца.</p>
            <ul class="revers aniDirec">
                <li></li><li></li><li></li>
            </ul>
            <p><code><b>alternate</b></code> - Анимация проигрывается с начала до конца, затем в обратном направлении.</p>
            <ul class="alter aniDirec">
                <li></li><li></li><li></li>
            </ul>
            <p><code><b>alternate-reverse</b></code> - Анимация проигрывается с конца до начала, затем в обратном направлении.</p>
            <ul class="alterRevers aniDirec">
                <li></li><li></li><li></li>
            </ul>				
        </article>
        
        <article>
            <h3>Краткая запись</h3>
            <p>Все параметры воспроизведения анимации можно объединить в одном свойстве - <code>animation</code>, перечислив их через пробел:</p>
            <pre>
<span class="property">animation</span>: <span class="unit">animation-name 
       animation-duration 
       animation-timing-function 
       animation-delay 
       animation-iteration-count 
       animation-direction</span>;

            </pre>
            <p>Для воспроизведения анимации достаточно указать только два свойства - <code>animation-name</code> и <code>animation-duration</code>, остальные свойства примут значения по умолчанию. Порядок перечисления свойств не имеет значения, единственное, время выполнения анимации <code>animation-duration</code> обязательно должно стоять перед задержкой <code>animation-delay</code>.</p>				
        </article>
        
        <article>
            <h2>Множественные анимации</h2>
            <p>Можно задавать несколько анимаций, перечислив их названия через запятую:</p>
            <pre>
<span class="property">animation</span>: <span class="unit">move .3s, back 4s steps(10, start) infinite</span>;

            </pre>
        </article>
                    
    </section>

</main>    


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
<script>hljs.highlightAll();</script>

</body>
</html>